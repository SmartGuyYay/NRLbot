<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NRL Voice Roast Bot</title>
  <style>
    body {
      background: #000;
      color: white;
      font-family: sans-serif;
      text-align: center;
      padding: 40px 20px;
    }
    button {
      padding: 15px 30px;
      font-size: 18px;
      background-color: #0070f3;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin: 20px 0;
    }
    button:hover {
      background-color: #0056c9;
    }
    .reaction-box {
      margin-top: 30px;
      padding: 20px;
      background: #222;
      border: 1px solid #444;
      border-radius: 10px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      font-style: italic;
    }
  </style>
</head>
<body>

  <h1>üèâ NRL Voice Roast Bot</h1>
  <p>Speak your hot take below ‚¨áÔ∏è</p>

  <button onclick="startListening()">üé§ Start Talking</button>

  <div id="status"></div>
  <div id="reaction" class="reaction-box" style="display: none;"></div>

  <script>
    const reactions = [
      "That take's weaker than the Warriors‚Äô defence after a beer break.",
      "This sounds like a Raiders fan after a loss. Stop lying to yourself.",
      "Even the Broncos would drop that take after a pre-season trial.",
      "Your take is like the Tigers‚Äô finals hopes ‚Äî non-existent.",
      "That‚Äôs the sort of take a Newcastle fan would say after 3 beers.",
      "Is that your footy knowledge or just the sound of a hornet‚Äôs nest?",
      "You talk more rubbish than a Manly fan after a loss.",
      "Bro, you could‚Äôve at least *tried* to get this take right.",
      "I haven‚Äôt seen this much delusion since the Bulldogs‚Äô last premiership win.",
      "Did a Parra fan write that or was it just their hopes?",
      "This take is more cooked than a Cowboys' away game.",
      "I‚Äôve seen more passion in a pre-season trial match.",
      "Is this the take you give your mates after losing the footy tipping comp?",
      "That take‚Äôs got less support than the Dolphins in 2023.",
      "You're the reason we need a challenge system in real life.",
      "Bro, that take‚Äôs colder than a Melbourne winter.",
      "Even the NRL refs couldn‚Äôt make a call that bad.",
      "You might wanna pass that one to the Dragons for review. They know bad takes.",
      "That‚Äôs like picking the Cowboys to make the top 4 every year.",
      "You just dropped a bomb more explosive than a Broncos‚Äô season collapse.",
      "Bro, that‚Äôs the kind of take you hear after someone‚Äôs been hit by a tackle.",
      "Even the Knights wouldn't take that opinion seriously.",
      "That‚Äôs like calling the Rabbitohs the real winners of every grand final.",
      "Is this a take or a cry for help? I need answers.",
      "That‚Äôs like a Manly fan trying to explain why they‚Äôre the best team in the NRL.",
      "That take‚Äôs more hopeless than a Gold Coast season review.",
      "This is the kind of take that makes you a meme on the NRL subreddit.",
      "Bro, that was less hot than a Bulldogs‚Äô attack after round 5.",
      "You‚Äôve just made every team in the NRL laugh in unison.",
      "That‚Äôs the kind of take that makes you banned from the footy club.",
      "Bro, that‚Äôs a mistake bigger than a Titans season review.",
      "You talk like a Warriors fan who just won a game. Settle down.",
      "That take‚Äôs about as accurate as a Manly fan trying to pick a winner.",
      "Your take‚Äôs more cooked than a Canberra penalty in the finals.",
      "Bro, that take‚Äôs just straight-up pain for every NRL fan in existence.",
      "That sounds like something you'd hear in a Roosters supporter‚Äôs delusional dream.",
      "I‚Äôd rather listen to the NRL‚Äôs official highlights than that.",
      "That take's got more flaws than the Bulldogs' attack in the past decade.",
      "You sound like a Parra fan after they‚Äôve lost a final.",
      "That‚Äôs more ridiculous than the Knights calling themselves premiership contenders.",
      "I‚Äôd rather watch a Raiders fan explain how they almost won than hear that.",
      "This take is worse than the Tigers' defence after a weekend off.",
      "I‚Äôd rather be stuck in a stadium with a Manly fan than hear that take again.",
      "Bro, this is like the Storm's salary cap ‚Äî it just doesn‚Äôt make sense.",
      "That‚Äôs like a Broncos fan claiming they invented the sport. Please stop.",
      "This take's got more issues than a Bulldogs recruitment strategy.",
      "You just compared your team to a premiership contender? C‚Äômon, mate.",
      "That take‚Äôs like the Titans‚Äô finals hopes: completely shattered and delusional.",
      "This roast hits harder than the Raiders' tackle technique.",
      "Bro, this take is more out of place than a Sharks‚Äô premiership ring."
    ];

    // Add team keyword mapping for responses
    const teamKeywords = {
      "Warriors": "That take's weaker than the Warriors‚Äô defence after a beer break.",
      "Raiders": "This sounds like a Raiders fan after a loss. Stop lying to yourself.",
      "Broncos": "Even the Broncos would drop that take after a pre-season trial.",
      "Tigers": "Your take is like the Tigers‚Äô finals hopes ‚Äî non-existent.",
      "Newcastle": "That‚Äôs the sort of take a Newcastle fan would say after 3 beers.",
      "Manly": "You talk more rubbish than a Manly fan after a loss.",
      "Bulldogs": "I haven‚Äôt seen this much delusion since the Bulldogs‚Äô last premiership win.",
      "Parra": "Did a Parra fan write that or was it just their hopes?",
      "Cowboys": "This take is more cooked than a Cowboys' away game.",
      "Dolphins": "That take‚Äôs got less support than the Dolphins in 2023.",
      "Melbourne": "Bro, that take‚Äôs colder than a Melbourne winter.",
      "Knights": "Even the Knights wouldn't take that opinion seriously.",
      "Rabbitohs": "That‚Äôs like calling the Rabbitohs the real winners of every grand final.",
      "Gold Coast": "That take‚Äôs more hopeless than a Gold Coast season review.",
      "Sharks": "Bro, this take is more out of place than a Sharks‚Äô premiership ring."
    };

    const status = document.getElementById("status");
    const reactionDiv = document.getElementById("reaction");

    function startListening() {
      if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {
        alert("Sorry, your browser doesn't support voice recognition üò¢");
        return;
      }

      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      const recognition = new SpeechRecognition();
      recognition.lang = 'en-AU';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      status.innerText = "Listening... üéôÔ∏è";
      reactionDiv.style.display = "none";

      recognition.start();

      recognition.onresult = (event) => {
        const take = event.results[0][0].transcript;
        status.innerText = `You said: "${take}"`;

        // Check for team-specific reactions
        let response = getTeamResponse(take);
        if (!response) {
          // If no team-specific response, fall back to a random one
          response = reactions[Math.floor(Math.random() * reactions.length)];
        }

        reactionDiv.innerText = `"${response}"`;
        reactionDiv.style.display = "block";

        speakReaction(response);
      };

      recognition.onerror = (event) => {
        status.innerText = "Error: " + event.error;
      };
    }

    function getTeamResponse(take) {
      // Loop through team keywords and check if they are mentioned in the take
      for (let team in teamKeywords) {
        if (take.toLowerCase().includes(team.toLowerCase())) {
          return teamKeywords[team];
        }
      }
      return null;
    }

    function speakReaction(text) {
      const synth = window.speechSynthesis;
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = 'en-AU';
      utter.pitch = 1;
      utter.rate = 1;
      synth.speak(utter);
    }
  </script>
</body>
</html>
