<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NRL Voice Roast Bot</title>
  <style>
    body {
      background: #000;
      color: white;
      font-family: sans-serif;
      text-align: center;
      padding: 40px 20px;
    }

    h1 {
      font-size: 36px;
    }

    button {
      padding: 15px 30px;
      font-size: 18px;
      background-color: #0070f3;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin: 30px 0;
    }

    button:hover {
      background-color: #0056c9;
    }

    .reaction-box {
      margin-top: 30px;
      padding: 20px;
      background: #222;
      border: 1px solid #444;
      border-radius: 10px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      font-style: italic;
    }

    .character-name {
      font-size: 28px;
      font-weight: bold;
      color: #0ff;
      margin-bottom: 10px;
    }

    .mouth {
      width: 80px;
      height: 40px;
      background-color: red;
      margin: 20px auto;
      border-radius: 0 0 40px 40px;
      animation: talk 0s infinite;
    }

    @keyframes talk {
      0% { height: 40px; }
      50% { height: 5px; }
      100% { height: 40px; }
    }
  </style>
</head>
<body>

  <h1>üèâ NRL Voice Roast Bot</h1>
  <p>Speak your hot take below ‚¨áÔ∏è</p>

  <h2 class="character-name">‚Ä¢  ‚Ä¢</h2>
  <div class="mouth" id="mouth"></div>

  <button onclick="startListening()">üé§ Start Talking</button>

  <div id="status"></div>
  <div id="reaction" class="reaction-box" style="display: none;"></div>

  <script>
    const reactions = [
      "That take's weaker than the Warriors‚Äô defence after a beer break.",
      "Even the Broncos would drop that take after a pre-season trial.",
      "Your take is like the Tigers‚Äô finals hopes ‚Äî non-existent.",
      "You talk more rubbish than a Manly fan after a loss.",
      "Bro, that‚Äôs the kind of take you hear after someone‚Äôs been hit by a tackle.",
      "That take‚Äôs about as accurate as a Manly fan trying to pick a winner.",
      "This roast hits harder than the Raiders' tackle technique.",
      "That‚Äôs more ridiculous than the Knights calling themselves premiership contenders.",
      "This is the kind of take that makes you a meme on the NRL subreddit.",
      "That take's got more flaws than the Bulldogs' attack in the past decade.",
      "I‚Äôd rather listen to the NRL‚Äôs official highlights than that.",
      "Even the NRL refs couldn‚Äôt make a call that bad.",
      "That‚Äôs like a Broncos fan claiming they invented the sport. Please stop.",
      "This take's more out of place than a Sharks‚Äô premiership ring."
    ];

    const status = document.getElementById("status");
    const reactionDiv = document.getElementById("reaction");
    const mouth = document.getElementById("mouth");

    function startListening() {
      if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {
        alert("Sorry, your browser doesn't support voice recognition üò¢");
        return;
      }

      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      const recognition = new SpeechRecognition();
      recognition.lang = 'en-AU';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      status.innerText = "Listening... üéôÔ∏è";
      reactionDiv.style.display = "none";
      mouth.style.animation = "talk 0.3s infinite";

      recognition.start();

      recognition.onresult = (event) => {
        const take = event.results[0][0].transcript;
        status.innerText = `You said: "${take}"`;

        const randomReaction = reactions[Math.floor(Math.random() * reactions.length)];
        reactionDiv.innerText = `"${randomReaction}"`;
        reactionDiv.style.display = "block";

        speakReaction(randomReaction);
      };

      recognition.onerror = (event) => {
        status.innerText = "Error: " + event.error;
        mouth.style.animation = "talk 0s";
      };
    }

    function speakReaction(text) {
      const synth = window.speechSynthesis;
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = 'en-AU';
      utter.pitch = 1;
      utter.rate = 1;

      utter.onstart = () => {
        mouth.style.animation = "talk 0.3s infinite";
      };

      utter.onend = () => {
        mouth.style.animation = "talk 0s";
      };

      synth.speak(utter);
    }
  </script>

</body>
</html>
